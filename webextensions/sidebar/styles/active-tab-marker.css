/*
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.
*/

:root {
  --tab-active-marker: var(--browser-tab-active-marker, Highlight);
  --tab-active-marker-inactive: rgba(0, 0, 0, 0.2);
  --tab-active-marker-size: calc(var(--favicon-size) / 8);
  --tab-active-marker-animation: 0.25s cubic-bezier(0.07, 0.95, 0, 1);
}

.active-marker::before,
.tab:not(.faviconized).subtree-collapsed.some-descendants-highlighted .active-marker::after,
.tab:not(.faviconized).subtree-collapsed.all-descendants-highlighted .active-marker::after {
  content: "";
  opacity: 0;
  position: absolute;
}

:root.animation .active-marker::before,
:root.animation .active-marker::after {
  transition: opacity var(--tab-active-marker-animation),
              transform var(--tab-active-marker-animation),
              width var(--tab-active-marker-animation);
}

.tab:not(.active):not(.highlighted):hover .active-marker::before,
.tab:not(.active):not(.highlighted):not(.faviconized):hover .active-marker::after {
  background: var(--tab-active-marker-inactive);
}
.tab.active .active-marker::before,
.tab.highlighted .active-marker::before,
.tab:not(.faviconized).highlighted .active-marker::after {
  background: var(--tab-active-marker);
}

.tab:not(.faviconized) .active-marker::before,
.tab:not(.faviconized) .active-marker::after {
  bottom: 0;
  top: 0;
  transform: scaleY(0);
  width: var(--tab-active-marker-size);
}
:root.left .tab:not(.faviconized) .active-marker::before,
:root.left .tab:not(.faviconized) .active-marker::after {
  left: 0;
}
:root.right .tab:not(.faviconized) .active-marker::before,
:root.right .tab:not(.faviconized) .active-marker::after {
  right: 0;
}
.tab:not(.faviconized):hover .active-marker::before,
.tab:not(.faviconized):hover .active-marker::after,
.tab.active:not(.faviconized) .active-marker::before,
.tab.active:not(.faviconized) .active-marker::after,
.tab.highlighted:not(.faviconized) .active-marker::before,
.tab.highlighted:not(.faviconized) .active-marker::after {
  opacity: 1;
  transform: scaleY(1);
}

.tab.faviconized .active-marker::before {
  height: var(--tab-active-marker-size);
  left: 0;
  right: 0;
  top: 0;
  transform: scaleX(0);
}
.tab.faviconized:hover .active-marker::before,
.tab.active.faviconized .active-marker::before,
.tab.highlighted.faviconized .active-marker::before {
  opacity: 1;
  transform: scaleX(1);
}


.tab[data-child-ids].subtree-collapsed.highlighted.some-descendants-highlighted .active-marker::after {
  opacity: 0.5;
}

.tab[data-child-ids].subtree-collapsed.highlighted.all-descendants-highlighted .active-marker::after {
  opacity: 1;
}
